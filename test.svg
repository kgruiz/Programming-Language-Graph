<svg width="500" height="400" viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bodyGradientV4" x1="50%" y1="0%" x2="50%" y2="100%">
      <stop offset="0%" style="stop-color:#4A4A4A;" />
      <stop offset="20%" style="stop-color:#454545;" />
      <stop offset="100%" style="stop-color:#2A2A2A;" />
    </linearGradient>
    <radialGradient id="bodyHighlightV4" cx="50%" cy="40%" r="80%" fx="50%" fy="40%">
        <stop offset="0%" style="stop-color:rgba(255,255,255,0.08);" />
        <stop offset="100%" style="stop-color:rgba(255,255,255,0);" />
    </radialGradient>

    <radialGradient id="joystickTopGradientV4" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" style="stop-color:#333333;" />
      <stop offset="60%" style="stop-color:#4A4A4A;" />
      <stop offset="85%" style="stop-color:#3D3D3D;" />
      <stop offset="100%" style="stop-color:#2A2A2A;" />
    </radialGradient>

    <linearGradient id="joystickStemGradientV4" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#282828;" />
      <stop offset="50%" style="stop-color:#383838;" />
      <stop offset="100%" style="stop-color:#282828;" />
    </linearGradient>

    <radialGradient id="buttonConvexGradientV4" cx="50%" cy="35%" r="65%" fx="50%" fy="35%">
      <stop offset="0%" style="stop-color:rgba(255,255,255,0.22);" />
      <stop offset="60%" style="stop-color:rgba(255,255,255,0.1);" />
      <stop offset="100%" style="stop-color:rgba(0,0,0,0.18);" />
    </radialGradient>

    <linearGradient id="dpadSurfaceGradientV4" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:#4A4A4A;"/>
        <stop offset="100%" style="stop-color:#3A3A3A;"/>
    </linearGradient>

    <radialGradient id="xboxGlowV4" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:rgba(255,255,255,0.05);" /> <!-- Subtle inner glow -->
      <stop offset="40%" style="stop-color:rgba(230,230,230,0.5);" />
      <stop offset="70%" style="stop-color:rgba(255,255,255,0.8);" />
      <stop offset="85%" style="stop-color:rgba(240,240,240,0.6);" />
      <stop offset="100%" style="stop-color:rgba(220,220,220,0.2);" />
    </radialGradient>

    <filter id="buttonShadowV4" x="-25%" y="-25%" width="150%" height="150%">
      <feDropShadow dx="0.75" dy="1.75" stdDeviation="1.75" flood-color="#000000" flood-opacity="0.28"/>
    </filter>
  </defs>

  <g id="controller-body-group">
    <!-- Heavily Revised Main Body Shape v4 -->
    <path d="M110,95
             C 70,90 35,110 38,155
             L 28,220
             C 18,285 45,335 100,340
             L 140,325
             C 170,310 190,285 215,278
             L 230,275
             C 240,273 260,273 270,275
             L 285,278
             C 310,285 330,310 360,325
             L 400,340
             C 455,335 482,285 472,220
             L 462,155
             C 465,110 430,90 390,95
             L 345,100
             C 315,90 290,75 250,75
             C 210,75 185,90 155,100
             Z"
          fill="url(#bodyGradientV4)" stroke="#161616" stroke-width="3.5"/>
    <path d="M110,95 C 70,90 35,110 38,155 L 28,220 C 18,285 45,335 100,340 L 140,325 C 170,310 190,285 215,278 L 230,275 C 240,273 260,273 270,275 L 285,278 C 310,285 330,310 360,325 L 400,340 C 455,335 482,285 472,220 L 462,155 C 465,110 430,90 390,95 L 345,100 C 315,90 290,75 250,75 C 210,75 185,90 155,100 Z"
          fill="url(#bodyHighlightV4)" />


    <!-- Left Joystick Area - positions adjusted for new body -->
    <g id="left-joystick" transform="translate(150 195)">
      <circle cx="0" cy="0" r="39" fill="#1E1E1E" /> <!-- Recess -->
      <circle cx="0" cy="8" r="10" fill="url(#joystickStemGradientV4)" /> <!-- Stem base -->
      <rect x="-5" y="-12" width="10" height="20" fill="url(#joystickStemGradientV4)" /> <!-- Stem -->
      <circle cx="0" cy="-12" r="28" fill="url(#joystickTopGradientV4)" stroke="#151515" stroke-width="1.2"/>
      <circle cx="0" cy="-12" r="24" fill="none" stroke="#555555" stroke-width="2" stroke-dasharray="1 2.5" />
    </g>

    <!-- Right Joystick Area -->
    <g id="right-joystick" transform="translate(310 240)">
      <circle cx="0" cy="0" r="39" fill="#1E1E1E" />
      <circle cx="0" cy="8" r="10" fill="url(#joystickStemGradientV4)" />
      <rect x="-5" y="-12" width="10" height="20" fill="url(#joystickStemGradientV4)" />
      <circle cx="0" cy="-12" r="28" fill="url(#joystickTopGradientV4)" stroke="#151515" stroke-width="1.2"/>
      <circle cx="0" cy="-12" r="24" fill="none" stroke="#555555" stroke-width="2" stroke-dasharray="1 2.5" />
    </g>

    <!-- D-Pad -->
    <g id="d-pad" transform="translate(220 250)">
      <path d="M-22,-7 Q-20,-10 -15,-10 H15 Q20,-10 22,-7 L22,7 Q20,10 15,10 H-15 Q-20,10 -22,7 Z
               M-7,-22 Q-10,-20 -10,-15 V15 Q-10,20 -7,22 L7,22 Q10,20 10,15 V-15 Q10,-20 7,-22 Z"
            fill="#282828" stroke="#151515" stroke-width="1.2" filter="url(#buttonShadowV4)"/>
      <path d="M-19,-5 Q-18,-8 -13,-8 H13 Q18,-8 19,-5 L19,5 Q18,8 13,8 H-13 Q-18,8 -19,5 Z
               M-5,-19 Q-8,-18 -8,-13 V13 Q-8,18 -5,19 L5,19 Q8,18 8,13 V-13 Q8,-18 5,-19 Z"
            fill="url(#dpadSurfaceGradientV4)" />
      <circle cx="0" cy="0" r="4" fill="#232323"/>
      <circle cx="0" cy="0" r="3" fill="url(#joystickTopGradientV4)"/>
    </g>

    <!-- ABXY Buttons -->
    <g id="abxy-buttons" transform="translate(365 185)">
      <g transform="translate(0, -28)" filter="url(#buttonShadowV4)">
        <circle cx="0" cy="0" r="13" fill="#FFC107"/> <circle cx="0" cy="0" r="13" fill="url(#buttonConvexGradientV4)"/> <circle cx="0" cy="0" r="11" fill="none" stroke="rgba(0,0,0,0.18)" stroke-width="1.5"/>
        <text x="0" y="0" dy=".35em" font-family="Arial, Helvetica, sans-serif" font-size="15" font-weight="bold" fill="#402A00" text-anchor="middle">Y</text>
      </g>
      <g transform="translate(-28, 0)" filter="url(#buttonShadowV4)">
        <circle cx="0" cy="0" r="13" fill="#2196F3"/> <circle cx="0" cy="0" r="13" fill="url(#buttonConvexGradientV4)"/> <circle cx="0" cy="0" r="11" fill="none" stroke="rgba(0,0,0,0.18)" stroke-width="1.5"/>
        <text x="0" y="0" dy=".35em" font-family="Arial, Helvetica, sans-serif" font-size="15" font-weight="bold" fill="#052A46" text-anchor="middle">X</text>
      </g>
      <g transform="translate(28, 0)" filter="url(#buttonShadowV4)">
        <circle cx="0" cy="0" r="13" fill="#F44336"/> <circle cx="0" cy="0" r="13" fill="url(#buttonConvexGradientV4)"/> <circle cx="0" cy="0" r="11" fill="none" stroke="rgba(0,0,0,0.18)" stroke-width="1.5"/>
        <text x="0" y="0" dy=".35em" font-family="Arial, Helvetica, sans-serif" font-size="15" font-weight="bold" fill="#4D0C07" text-anchor="middle">B</text>
      </g>
      <g transform="translate(0, 28)" filter="url(#buttonShadowV4)">
        <circle cx="0" cy="0" r="13" fill="#4CAF50"/> <circle cx="0" cy="0" r="13" fill="url(#buttonConvexGradientV4)"/> <circle cx="0" cy="0" r="11" fill="none" stroke="rgba(0,0,0,0.18)" stroke-width="1.5"/>
        <text x="0" y="0" dy=".35em" font-family="Arial, Helvetica, sans-serif" font-size="15" font-weight="bold" fill="#0E3310" text-anchor="middle">A</text>
      </g>
    </g>

    <!-- Xbox Button - New Logo -->
    <g id="xbox-button" transform="translate(250, 132)" filter="url(#buttonShadowV4)">
      <circle cx="0" cy="0" r="18" fill="#181818" /> <!-- Darker base for recess -->
      <circle cx="0" cy="0" r="16.5" fill="#252525" /> <!-- Button surface -->
      <circle cx="0" cy="0" r="16" fill="url(#xboxGlowV4)" /> <!-- Glow overlay -->
      <!-- More accurate Xbox 'X' Logo path -->
      <path d="
        M -1.8,-6.5 C -2.5,-6.5 -3.5,-6 -4,-5 L -6.3,-2.3 C -6.8,-1.6 -6.8,-0.8 -6.3,0 L -4,2.3 C -3.5,3 -2.5,3.5 -1.8,3.5
        L 1.8,3.5 C 2.5,3.5 3.5,3 4,2.3 L 6.3,0 C 6.8,-0.8 6.8,-1.6 6.3,-2.3 L 4,-5 C 3.5,-6 2.5,-6.5 1.8,-6.5 Z

        M -3.5,-1.8 C -3.5,-2.5 -3,-3.5 -2.3,-4 L 0,-6.3 C 0.8,-6.8 1.6,-6.8 2.3,-6.3 L 5,-4 C 6,-3.5 6.5,-2.5 6.5,-1.8
        L 6.5,1.8 C 6.5,2.5 6,3.5 5,4 L 2.3,6.3 C 1.6,6.8 0.8,6.8 0,6.3 L -2.3,4 C -3,3.5 -3.5,2.5 -3.5,1.8 Z
        " fill="#E8E8E8" transform="scale(1)"/>
         <!-- Inner darker X for slight depth/shadow (optional, can be removed for flatter look) -->
      <path d="
        M -1.6,-5.8 C -2.2,-5.8 -3.1,-5.4 -3.5,-4.6 L -5.6,-2.1 C -6,-1.5 -6,-0.9 -5.6,-0.3 L -3.5,2.1 C -3.1,2.8 -2.2,3.2 -1.6,3.2
        L 1.6,3.2 C 2.2,3.2 3.1,2.8 3.5,2.1 L 5.6,-0.3 C 6,-0.9 6,-1.5 5.6,-2.1 L 3.5,-4.6 C 3.1,-5.4 2.2,-5.8 1.6,-5.8 Z

        M -3.2,-1.6 C -3.2,-2.2 -2.8,-3.1 -2.1,-3.5 L -0.3,-5.6 C 0.3,-6 0.9,-6 1.5,-5.6 L 2.1,-5.3 L 3.5,-3.5 C 2.8,-3.2 2.2,-3.2 1.6,-3.2 C 0.9,-3.2 0.3,-2.8 -0.3,-2.1 L -2.1,-0.3 C -2.8,0.3 -3.2,0.9 -3.2,1.6 Z
        M 3.2,1.6 C 3.2,0.9 2.8,-0.3 2.1,-0.3 L 0.3,2.1 C -0.3,2.8 -0.9,3.2 -1.6,3.2 L -2.1,5.3 L -3.5,3.5 C -2.8,3.2 -2.2,3.2 -1.6,3.2 C -0.9,3.2 -0.3,2.8 0.3,2.1 L 2.1,0.3 C 2.8,-0.3 3.2,-0.9 3.2,-1.6 Z
        " fill="#B0B0B0" transform="scale(0.98)" style="opacity:0.4;"/>
    </g>

    <!-- View Button -->
    <g id="view-button" transform="translate(200, 135)" filter="url(#buttonShadowV4)">
      <rect x="-11" y="-6" width="22" height="12" rx="3" ry="3" fill="#282828"/>
      <rect x="-10" y="-5" width="20" height="10" rx="2.5" ry="2.5" fill="url(#dpadSurfaceGradientV4)"/>
      <rect x="-10" y="-5" width="20" height="10" rx="2.5" ry="2.5" fill="url(#buttonConvexGradientV4)"/>
      <rect x="-6" y="-3.5" width="5.5" height="5.5" fill="#C8C8C8" rx="0.5"/>
      <rect x="-1.5" y="-1.5" width="5.5" height="5.5" fill="#A8A8A8" stroke="#282828" stroke-width="0.5" rx="0.5"/>
    </g>

    <!-- Menu Button -->
    <g id="menu-button" transform="translate(300, 135)" filter="url(#buttonShadowV4)">
      <rect x="-11" y="-6" width="22" height="12" rx="3" ry="3" fill="#282828"/>
      <rect x="-10" y="-5" width="20" height="10" rx="2.5" ry="2.5" fill="url(#dpadSurfaceGradientV4)"/>
      <rect x="-10" y="-5" width="20" height="10" rx="2.5" ry="2.5" fill="url(#buttonConvexGradientV4)"/>
      <rect x="-5" y="-3.2" width="10" height="1.5" fill="#C8C8C8" rx="0.5"/>
      <rect x="-5" y="-0.5" width="10" height="1.5" fill="#C8C8C8" rx="0.5"/>
      <rect x="-5" y="2.2" width="10" height="1.5" fill="#C8C8C8" rx="0.5"/>
    </g>

    <!-- Share Button -->
    <g id="share-button" transform="translate(250, 175)" filter="url(#buttonShadowV4)">
      <circle cx="0" cy="0" r="9" fill="#282828"/>
      <circle cx="0" cy="0" r="8" fill="url(#dpadSurfaceGradientV4)"/>
      <circle cx="0" cy="0" r="8" fill="url(#buttonConvexGradientV4)"/>
      <path d="M -2.5 1.5 L -2.5 3.5 L 2.5 3.5 L 2.5 1.5 M 0 -3 L 0 2.5 M -2 -0.5 L 0 -3 L 2 -0.5"
            stroke="#C8C8C8" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    </g>

  </g>
</svg>